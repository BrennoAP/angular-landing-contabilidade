.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(5px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-card {
  background: white;
  padding: 2.5rem;
  border-radius: 20px;
  width: 90%;
  max-width: 550px;
  position: relative;
  color: #334155;

  .btn-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    cursor: pointer;
    color: #94a3b8;
  }
}

.form {
  margin-top: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;

  .row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .form-control {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;

    label { font-size: 0.8rem; font-weight: 700; color: #64748b; text-transform: uppercase; }

    input, textarea {
      padding: 0.75rem;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-family: inherit;
      transition: 0.3s;

      &:focus { outline: none; border-color: #25d366; }
      &.error { border-color: #ef4444; background: #fff5f5; }
    }

    .error-text { color: #ef4444; font-size: 0.75rem; font-weight: 500; }
  }
}

.actions { margin-top: 1rem; display: flex; justify-content: flex-end; }

/* Estilização Dinâmica do Botão via Componente Pai */
/* Estilos normais do modal aqui... */

:host {
  ::ng-deep {
    /* Agora estas regras só afetam botões DENTRO deste componente */
    .btn-primary {
      background-color: #25d366 !important; 
      color: white !important;
      
      &:hover {
        background-color: #1eb954 !important;
      }
    }

    .btn-disabled {
      background-color: #cbd5e1 !important; 
      color: #94a3b8 !important;
      cursor: not-allowed !important;
      box-shadow: none !important;
      transform: none !important;
      opacity: 1 !important; /* Garante que o cinza apareça bem */
    }
  }
}

.success-state {
  text-align: center;
  padding: 2rem 0;
  .success-icon { font-size: 4rem; color: #25d366; margin-bottom: 1rem; }
}

@media (max-width: 600px) { .form .row { grid-template-columns: 1fr; } }